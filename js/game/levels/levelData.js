import { TILE } from '../data/constants.js';

/**
 * Level format:
 * - tiles: 2D array of 0s and 1s (each row is a horizontal strip)
 * - playerStart: { x, y } in pixel coords
 * - gems: array of { x, y } in pixel coords
 * - name: display name
 *
 * Grid is 20 rows tall (320px). Width varies per level.
 * Row 0 = top, Row 19 = bottom.
 */

// Helper: create a row of tiles
function row(str) {
  return str.split('').map(c => c === '#' ? 1 : 0);
}

// Level 1: "Green Hills" - simple intro, single screen
const level1 = {
  name: 'Green Hills',
  tiles: [
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..............................'),
    row('..........####................'),
    row('..............................'),
    row('..............................'),
    row('..............####............'),
    row('..............................'),
    row('......#####.........####......'),
    row('..............................'),
    row('.....................#........'),
    row('...#####..........####.......'),
    row('..............................'),
    row('##############################'),
  ],
  playerStart: { x: 2 * TILE, y: 17 * TILE },
  gems: [
    { x: 11 * TILE + 3, y: 8 * TILE - 12 },
    { x: 15 * TILE + 3, y: 11 * TILE - 12 },
    { x: 8 * TILE + 3, y: 13 * TILE - 12 },
    { x: 24 * TILE + 3, y: 13 * TILE - 12 },
    { x: 4 * TILE + 3, y: 16 * TILE - 12 },
  ],
};

// Level 2: "Sky Bridges" - platforms with gaps, slight scrolling
const level2 = {
  name: 'Sky Bridges',
  tiles: [
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('........................................'),
    row('.............####.......................'),
    row('........................................'),
    row('.....####.............####..............'),
    row('........................................'),
    row('..........................####..........'),
    row('........................................'),
    row('###.........####..............####......'),
    row('........................................'),
    row('.....####...........####................'),
    row('........................................'),
    row('..............####..........####..####..'),
    row('####....####....####....####....####....'),
  ],
  playerStart: { x: 1 * TILE, y: 13 * TILE },
  gems: [
    { x: 14 * TILE + 3, y: 7 * TILE - 12 },
    { x: 6 * TILE + 3, y: 9 * TILE - 12 },
    { x: 20 * TILE + 3, y: 9 * TILE - 12 },
    { x: 27 * TILE + 3, y: 11 * TILE - 12 },
    { x: 10 * TILE + 3, y: 13 * TILE - 12 },
    { x: 22 * TILE + 3, y: 15 * TILE - 12 },
    { x: 35 * TILE + 3, y: 17 * TILE - 12 },
  ],
};

// Level 3: "The Ascent" - vertical climb with small platforms
const level3 = {
  name: 'The Ascent',
  tiles: [
    row('..................................'),
    row('..###.............................'),
    row('..................................'),
    row('.................###..............'),
    row('..................................'),
    row('..........###.....................'),
    row('..................................'),
    row('.....................###..........'),
    row('..................................'),
    row('.......###........................'),
    row('..................................'),
    row('..............###.................'),
    row('..................................'),
    row('....###...............###.........'),
    row('..................................'),
    row('..........###.....................'),
    row('..................................'),
    row('...###............................'),
    row('..................................'),
    row('##################################'),
  ],
  playerStart: { x: 2 * TILE, y: 18 * TILE },
  gems: [
    { x: 3 * TILE + 3, y: 0 * TILE - 2 },
    { x: 18 * TILE + 3, y: 2 * TILE - 12 },
    { x: 11 * TILE + 3, y: 4 * TILE - 12 },
    { x: 22 * TILE + 3, y: 6 * TILE - 12 },
    { x: 8 * TILE + 3, y: 8 * TILE - 12 },
    { x: 15 * TILE + 3, y: 10 * TILE - 12 },
    { x: 5 * TILE + 3, y: 12 * TILE - 12 },
    { x: 24 * TILE + 3, y: 12 * TILE - 12 },
  ],
};

// Level 4: "Floating Islands" - no ground, all platforms
const level4 = {
  name: 'Floating Islands',
  tiles: [
    row('............................................'),
    row('............................................'),
    row('.....###....................................'),
    row('............................................'),
    row('..............###...........................'),
    row('............................................'),
    row('..###.................###...................'),
    row('............................................'),
    row('.........###...................###..........'),
    row('............................................'),
    row('.....................###....................'),
    row('............................................'),
    row('###..........###..............###...........'),
    row('............................................'),
    row('.......###..........###.....................'),
    row('............................................'),
    row('...................###..........###..###....'),
    row('............................................'),
    row('..###.......###.......###..........###.....'),
    row('............................................'),
  ],
  playerStart: { x: 1 * TILE, y: 11 * TILE },
  gems: [
    { x: 6 * TILE + 3, y: 1 * TILE - 2 },
    { x: 15 * TILE + 3, y: 3 * TILE - 12 },
    { x: 22 * TILE + 3, y: 5 * TILE - 12 },
    { x: 10 * TILE + 3, y: 7 * TILE - 12 },
    { x: 30 * TILE + 3, y: 7 * TILE - 12 },
    { x: 22 * TILE + 3, y: 9 * TILE - 12 },
    { x: 14 * TILE + 3, y: 11 * TILE - 12 },
    { x: 8 * TILE + 3, y: 13 * TILE - 12 },
    { x: 20 * TILE + 3, y: 13 * TILE - 12 },
    { x: 36 * TILE + 3, y: 15 * TILE - 12 },
  ],
};

// Level 5: "The Gauntlet" - long, challenging
const level5 = {
  name: 'The Gauntlet',
  tiles: [
    row('..................................................'),
    row('..................................................'),
    row('..................................................'),
    row('..................................................'),
    row('..................................................'),
    row('..................................................'),
    row('.......###........###.........###..............###.'),
    row('..................................................'),
    row('...###......###.........###.........###....###....'),
    row('..................................................'),
    row('..................................................'),
    row('..........###...........###.......###.............'),
    row('..................................................'),
    row('......###......###..........###.......###....###..'),
    row('..................................................'),
    row('..###......................................###....'),
    row('.........###..........###..........###............'),
    row('..................................................'),
    row('##...####....####....####....####....####....####.'),
    row('..................................................'),
  ],
  playerStart: { x: 1 * TILE, y: 17 * TILE },
  gems: [
    { x: 8 * TILE + 3, y: 5 * TILE - 12 },
    { x: 17 * TILE + 3, y: 5 * TILE - 12 },
    { x: 26 * TILE + 3, y: 5 * TILE - 12 },
    { x: 46 * TILE + 3, y: 5 * TILE - 12 },
    { x: 4 * TILE + 3, y: 7 * TILE - 12 },
    { x: 12 * TILE + 3, y: 7 * TILE - 12 },
    { x: 21 * TILE + 3, y: 7 * TILE - 12 },
    { x: 30 * TILE + 3, y: 7 * TILE - 12 },
    { x: 38 * TILE + 3, y: 7 * TILE - 12 },
    { x: 11 * TILE + 3, y: 10 * TILE - 12 },
    { x: 23 * TILE + 3, y: 10 * TILE - 12 },
    { x: 31 * TILE + 3, y: 10 * TILE - 12 },
  ],
};

export const LEVELS = [level1, level2, level3, level4, level5];
